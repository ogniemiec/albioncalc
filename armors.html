<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Albion Craft Calculator - Armors</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Armors Craft Calculator</h1>
    <a href="index.html" class="back-button">Powrót do strony głównej</a>

    <div class="selector">
      <label for="armorSelect">Wybierz typ zbroi:</label>
      <select id="armorSelect">
        <option value="">-- Wybierz --</option>
        <option value="leather">Leather Armor</option>
        <option value="cloth">Cloth Armor</option>
        <option value="plate">Plate Armor</option>
      </select>
    </div>

    <div class="calculator">
      <label>Cena surowca</label>
      <input type="number" id="matPrice" placeholder="Cena surowca">
      <label>Cena artefaktu</label>
      <input type="number" id="artifactPrice" placeholder="Cena artefaktu">
      <label>Zwrot (%)</label>
      <input type="number" id="returnInput" value="45" min="0" max="100">
      <label>Cena sprzedaży</label>
      <input type="number" id="sellPrice" placeholder="Cena sprzedaży">
      <label>Ilość craftowanych przedmiotów</label>
      <input type="number" id="craftAmount" value="1" min="1">

      <button id="calculateBtn">Oblicz</button>

      <div class="results">
        <p id="craftCost">Cena wytworzenia: -</p>
        <p id="profitEach">Zysk za 1: -</p>
        <p id="totalProfit">Łączny zysk: -</p>
        <p id="resourcesNeeded">Potrzebne surowce: -</p>
      </div>
    </div>
  </div>

  <script>
    const armors = {
      leather: { mats: [{ type: "leather", qty: 16 }] },
      cloth:   { mats: [{ type: "cloth", qty: 16 }] },
      plate:   { mats: [{ type: "bars", qty: 16 }] }
    };

    document.getElementById('calculateBtn').addEventListener('click', () => {
      const type = document.getElementById('armorSelect').value;
      if (!type) return alert("Wybierz typ zbroi!");

      const mat = armors[type].mats[0];
      const price = +document.getElementById('matPrice').value;
      const artifact = +document.getElementById('artifactPrice').value;
      const ret = +document.getElementById('returnInput').value / 100;
      const sell = +document.getElementById('sellPrice').value;
      const amount = +document.getElementById('craftAmount').value;

      const baseCost = (mat.qty * price + artifact);
      const craftCost = baseCost * (1 - ret);
      const profitEach = sell - craftCost;
      const totalProfit = profitEach * amount;

      const needed = mat.qty * amount * (1 - ret);

      document.getElementById('craftCost').textContent = `Cena wytworzenia: ${craftCost.toFixed(0)} srebra`;
      document.getElementById('profitEach').textContent = `Zysk za 1: ${profitEach.toFixed(0)} srebra`;
      document.getElementById('totalProfit').textContent = `Łączny zysk: ${totalProfit.toFixed(0)} srebra`;
      document.getElementById('resourcesNeeded').textContent = `Potrzebne surowce: ${needed.toFixed(1)} ${mat.type}`;
    });
  </script>
</body>
</html>
